)
) |> _$Glass_bead
renamed_data$Glass_bead
renamed_data$Glass_bead == "shatter"
renamed_data |>
mutate(
Glass_bead = if_else(
condition = Glass_bead == "shatter",
true = 1,
false = Glass_bead
)
)
renamed_data |>
mutate(
Glass_bead = if_else(
condition = Glass_bead == "shatter",
true = "1",
false = Glass_bead
)
)
renamed_data$IndoPacific_bead
renamed_data |>
mutate(
Glass_bead = if_else(
condition = Glass_bead == "shatter",
true = NA,
false = Glass_bead
)
) |>
mutate(
IndoPacific_bead = case_when(
IndoPacific_bead == "cluster" ~ NA,
IndoPacific_bead == "unsure number" ~ NA,
.default = IndoPacific_bead
)
)
renamed_data |>
mutate(
Glass_bead = if_else(
condition = Glass_bead == "shatter",
true = NA,
false = Glass_bead
)
) |>
mutate(
IndoPacific_bead = case_when(
IndoPacific_bead == "cluster" ~ NA,
IndoPacific_bead == "unsure number" ~ NA,
.default = IndoPacific_bead
)
) |> _$IndoPacific_bead
str_remove(renamed_data$Width, "\\+")
renamed_data |>
mutate(
Glass_bead = if_else(
condition = Glass_bead == "shatter",
true = NA,
false = Glass_bead
)
) |>
mutate(
IndoPacific_bead = case_when(
IndoPacific_bead == "cluster" ~ NA,
IndoPacific_bead == "unsure number" ~ NA,
.default = IndoPacific_bead
)
) |>
mutate(
across(
c(Length, Width),
\(x) str_remove(x, "\\+")
)
)
# modifying strings
mutate(renamed_data, Length = str_remove(Length, "\\+"))
str(renamed_data)
mutate (
across(
c(Length, Width)
\(x) str_remove(x, "\\+")
mutate (
across(
c(Length, Width),
\(x) str_remove(x, "\\+")
)
)
renamed_data |>
mutate (
across(
c(Length, Width),
\(x) str_remove(x, "\\+")
)
)
renamed_data |>
mutate(
across(
c(Glass_bead, IndoPacific_bead, Gold_leaf, Stamped_ceramic, Ceramic_vessel, Stoneware),
\(x) case_match(x,
c("shatter", "cluster", "unsure number", "base") ~ NA,
.default = x) |>
as.numeric()
)
)
data_clean <- renamed_data |>
mutate(
across(
c(Glass_bead, IndoPacific_bead, Gold_leaf, Stamped_ceramic, Ceramic_vessel, Stoneware),
\(x) case_match(x,
c("shatter", "cluster", "unsure number", "base") ~ NA,
.default = x) |>
as.numeric()
),
across(
c(Length, Width),
\(x) str_remove(x, "\\+")
)
)
str(data_clean)
data_clean <- renamed_data |>
mutate(
across(
c(Glass_bead, IndoPacific_bead, Gold_leaf, Stamped_ceramic, Ceramic_vessel, Stoneware),
\(x) case_match(x,
c("shatter", "cluster", "unsure number", "base") ~ NA,
.default = x) |>
as.numeric()
),
across(
c(Length, Width),
\(x) str_remove(x, "\\+") |> as.numeric()
)
)
str(data_clean)
write_csv(data_clean, "data/mortuary_clean.csv")
data_clean <- renamed_data |>
mutate(
across(
c(Glass_bead, IndoPacific_bead, Gold_leaf, Stamped_ceramic, Ceramic_vessel, Stoneware),
\(x) case_match(x,
c("shatter", "cluster", "unsure number", "base") ~ NA,
.default = x) |>
as.numeric()
),
across(
c(Length, Width),
\(x) str_remove(x, "\\+") |> as.numeric()
)
)
renamed_data |>
mutate(
across(
c(Glass_bead, IndoPacific_bead, Gold_leaf, Stamped_ceramic, Ceramic_vessel, Stoneware),
\(x) case_match(x,
c("shatter", "cluster", "unsure number", "base") ~ NA,
.default = x) |>
as.numeric()
),
across(
c(Length, Width),
\(x) str_remove(x, "\\+") |> as.numeric()
)
)
mortuary_data <- read_csv("data/mortuary_clean.csv")
copy <- mortuary_data
mortuary_data |>
ggplot(aes(x = Length)) +
geom_histogram()
mortuary_data |>
ggplot(aes(x = Length)) +
geom_histogram(bins = 10)
mortuary_data |>
ggplot(aes(x = Length)) +
geom_density()
mortuary_data |>
ggplot(aes(x = Length)) +
geom_density(fill = "blue")
mortuary_data |>
ggplot(aes(x = Length)) +
geom_density(fill = "blue", alpha = 0.5)
mortuary_data |>
ggplot(aes(x = Phase, y = Length)) +
geom_boxplot()
mortuary_data |>
ggplot(aes(x = Phase, y = Length)) +
geom_boxplot() +
geom_jitter()
mortuary_data |>
ggplot(aes(x = Phase, y = Length)) +
geom_boxplot() +
geom_jitter(
width = 0.2,
height = 0.2
)
mortuary_data |>
ggplot(aes(x = Phase, y = Length)) +
geom_boxplot(
outlier.shape = NA
) +
geom_jitter(
width = 0.2,
height = 0.2
)
mortuary_data |>
ggplot(aes(x = Phase, y = Length)) +
geom_boxplot(
outlier.shape = NA
) +
geom_jitter(
width = 0.2,
height = 0.2
)
mortuary_data |>
remove_missing(vars = "Phase") |>
ggplot(aes(x = Phase, y = Length)) +
geom_boxplot(
outlier.shape = NA
) +
geom_jitter(
width = 0.2,
height = 0.2
)
mortuary_data |>
ggplot(aes(x = Phase)) +
geom_bar()
mortuary_data$Gender
mortuary_data_sex <- mortuary_data |>
mutate(
Sex = case_when(
Gender == 1 ~ "Male",
Gender == 2 ~ "Probable Male",
Gender == 3 ~ "Female",
Gender == 4 ~ "Probable Female",
is.na(Gender) ~ "Unobservable"
)
)
mortuary_data_sex$Sex
mortuary_data_sex |>
ggplot(aes(x = Sex)) +
geom_bar()
mortuary_data_sex |>
ggplot(aes(x = Sex)) +
geom_bar(fill = "blue")
mortuary_data_sex |>
ggplot(aes(x = Phase, fill = Sex)) +
geom_bar()
mortuary_data_sex |>
count(Phase, Sex)
mortuary_data_sex |>
count(Phase, Sex) |>
group_by(Phase) |>
mutate(percent = n / sum(n))
mortuary_data_sex |>
count(Phase, Sex) |>
group_by(Phase) |>
mutate(percent = (n / sum(n)) * 100)
percent_sex <- mortuary_data_sex |>
count(Phase, Sex) |>
group_by(Phase) |>
mutate(percent = (n / sum(n)) * 100)
percent_sex |>
ggplot(aes(x = Phase, y = percent, fill = Sex)) +
geom_bar()
percent_sex |>
ggplot(aes(x = Phase, y = percent, fill = Sex)) +
geom_bar(stat = "identity")
percent_sex |>
ggplot(aes(x = Phase, y = percent, fill = Sex)) +
geom_col()
ggsave("figures/sex-distribution.png")
library(tidyverse)
mortuary_data <- read_csv("data/mortuary_clean.csv")
mortuary_data |>
summarise(
mean_golden = mean(Golden_bead),
median_golden = median(Golden_bead),
sd_golden = sd(Golden_bead),
.by = Phase
)
mortuary_data |>
summarise(
mean_golden = mean(Golden_bead, na.rm = T),
median_golden = median(Golden_bead, na.rm = T),
sd_golden = sd(Golden_bead, na.rm = T),
.by = Phase
)
mortuary_data |>
summarise(
mean_golden = mean(Golden_bead, na.rm = T),
median_golden = median (Golden_bead, na.rm = T),
sd_golden = sd (Golden_bead, na.rm = T),
.by = Phase
)
str(mortuary_data)
mortuary_data |>
summarise(
across(
contains("bead"),
\(x) mean(x, na.rm = T)
)
)
names(mortuary_data)
mortuary_data |>
ggplot(aes(x = Stone_artifact)) +
geom_bar()
View(mortuary_data)
names(mortuary_data)
mortuary_long <- mortuary_data |>
pivot_longer(
Agate_bead:Kendi_mouth,
names_to = "artefact",
values_to = "count"
)
view(mortuary_long)
mortuary_long |>
group_by(Phase, artefact) |>
summarise(
mean = mean(count, na.rm = T),
median = median(count, na.rm = T)
)
mortuary_long |>
group_by(Phase, artefact) |>
summarise(
mean = mean(count, na.rm = T),
median = median(count, na.rm = T)
) |>
arrange(desc(mean))
mortuary_long |>
ggplot(aes(x = artefact, y = count)) +
geom_col()
mortuary_long |>
filter(artefact != "IndoPacific_bead") |>
ggplot(aes(x = artefact, y = count)) +
geom_col()
mortuary_long |>
filter(artefact != "IndoPacific_bead") |>
ggplot(aes(x = artefact, y = count, fill = Phase)) +
geom_col()
mortuary_wide <- mortuary_long |>
pivot_wider(
names_from = artefact,
values_from = count
)
dim(mortuary_data) == dim(mortuary_wide)
write_csv(mortuary_long, "data/mortuary_long.csv")
version
version$version.string
version$version.string
library(tidyverse)
mortuary_data <- read_csv("data/mortuary_clean.csv")
library(here)
library(tidyverse)
library(here)
mortuary_data <- read_csv(here("data/mortuary_clean.csv"))
#| label: setup
#| include: false
library(tidyverse)
library(here)
mortuary_data <- read_csv(here("data/mortuary_clean.csv"))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_boxplot() +
geom_violin()
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin() +
geom_boxplot()
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin() +
geom_boxplot(width = 0.2)
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2)
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
theme(legend.position = "none")
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1)) +
theme_bw()
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
theme_bw() +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
labs(title = "A boxplot",
x = "Phase of occupation",
y = "Area in cm^2") +
theme_bw() +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
labs(title = "A boxplot",
x = "Phase of occupation",
y = "Area in cm^2") +
theme_bw() +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),
axis.title.x = element_blank())
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
labs(title = "A boxplot",
x = "Phase of occupation",
y = "Area in cm^2") +
theme_bw() +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),
axis.title.x = element_text(size = 42))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
labs(title = "A boxplot",
x = "Phase of occupation",
y = "Area in cm^2") +
theme_bw() +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),
axis.title.x = element_text(size = 12))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
labs(title = "A boxplot",
x = "Phase of occupation",
y = "Area in cm^2") +
theme_bw() +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),
axis.title.x = element_text(size = 12, colour = "purple"))
mortuary_data |>
filter(Phase != "disturbed") |>
mutate(Area = Length * Width) |>
ggplot(aes(x = Phase, y = Area)) +
geom_violin(aes(fill = Phase)) +
geom_boxplot(width = 0.2) +
labs(title = "A boxplot",
x = "Phase of occupation",
y = "Area in cm^2") +
theme_bw() +
theme(legend.position = "none",
axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),
axis.title.x = element_text(size = 12, colour = "purple"),
plot.title = element_text(family = "Roboto"))
tinytex::check_installed()
?tinytex::check_installed()
tinytex::check_installed("framed")
